"use strict";(self["webpackChunkkams"]=self["webpackChunkkams"]||[]).push([[323],{9323:function(t,i,a){a.r(i),a.d(i,{default:function(){return w}});var o=function(){var t=this,i=t._self._c;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"bg",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(256, 256, 256, 0.8)"}},[i("div",{staticClass:"login-container"},[t._m(0),i("div",{staticClass:"tab"},[i("div",{staticClass:"btn tab-login",class:{current:t.whichTab},on:{click:function(i){return t.changeTab("login")}}},[t._v(" 登录 ")]),i("div",{staticClass:"btn tab-register",class:{current:!t.whichTab},on:{click:function(i){return t.changeTab("register")}}},[t._v(" 注册 ")]),i("div",{staticClass:"bottom-line",class:{"line-right":!t.whichTab}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.whichTab,expression:"whichTab"}],staticClass:"border"},[i("pps-form",{on:{submit:function(i){return t.loginFn()}}},[i("pps-input",{attrs:{content:t.loginForm.username,icon:"pps-icon-admin",placeholder:"用户名"},on:{"update:content":function(i){return t.$set(t.loginForm,"username",i)}}}),i("pps-input",{attrs:{content:t.loginForm.password,icon:"pps-icon-lock",type:"password",placeholder:"密码"},on:{"update:content":function(i){return t.$set(t.loginForm,"password",i)}}}),i("div",[i("a",{staticClass:"forget",on:{click:function(i){return t.showDialog("forget")}}},[t._v("忘记密码？")])]),i("pps-button",{attrs:{theme:"confirm"}},[t._v("登录")])],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.whichTab,expression:"!whichTab"}],staticClass:"border"},[t._v("暂未开放")])]),i("div",{staticClass:"foot"},[i("div",{staticClass:"list"}),i("div",{staticClass:"copylist"},[i("copy-icon"),t._v(" Powered by kotori ")],1)]),i("pps-dialog",{attrs:{content:t.dialogData.message,title:t.dialogData.title,show:t.isShowDialog},on:{"update:show":function(i){t.isShowDialog=i},confirmed:function(i){t.loading=!1},canceled:function(i){t.loading=!1}}})],1)},s=[function(){var t=this,i=t._self._c;return i("div",{staticClass:"logo"},[i("div",{staticClass:"login-header"},[i("img",{attrs:{src:a(3086),alt:""}}),i("div",[t._v("Kotori")])]),i("div",{staticClass:"login-desc"},[t._v("kams 是一个专为Kotori打造的后台管理界面")])])}],n=(a(381),function(){var t=this,i=t._self._c;return i("svg",{attrs:{viewBox:"64 64 896 896",focusable:"false","data-icon":"copyright",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}},[i("path",{attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm5.6-532.7c53 0 89 33.8 93 83.4.3 4.2 3.8 7.4 8 7.4h56.7c2.6 0 4.7-2.1 4.7-4.7 0-86.7-68.4-147.4-162.7-147.4C407.4 290 344 364.2 344 486.8v52.3C344 660.8 407.4 734 517.3 734c94 0 162.7-58.8 162.7-141.4 0-2.6-2.1-4.7-4.7-4.7h-56.8c-4.2 0-7.6 3.2-8 7.3-4.2 46.1-40.1 77.8-93 77.8-65.3 0-102.1-47.9-102.1-133.6v-52.6c.1-87 37-135.5 102.2-135.5z"}})])}),e=[],l={name:"copyIcon"},r=l,c=a(8529),g=(0,c.A)(r,n,e,!1,null,null,null),d=g.exports,h=a(9610),u=a(9335),p={name:"myLogin",components:{copyIcon:d},data(){return{tabsFlag:"login",isShowDialog:!1,loading:!1,dialogData:{},loginForm:{username:"test",password:"233"}}},methods:{...(0,u.mapMutations)("layoutOption",["updateToken"]),changeTab(t){this.tabsFlag=t},async loginFn(){this.loading=!0;try{const{data:t}=await(0,h.MI)(this.loginForm);t.token&&(this.updateToken(t.token),this.loading=!1,this.$router.push("/"))}catch(t){if(console.log(t),this.loading=!1,t)return this.showDialog("loginError");this.showDialog("",t.message)}},showDialog(t,i){this.dialogData=t&&"forget"===t?{title:"提示",message:"暂未开放！"}:t&&"loginError"===t?{title:"警告",message:"账号或密码不正确！"}:{title:"警告",message:i},this.isShowDialog=!0}},computed:{whichTab(){return"login"===this.tabsFlag}},mounted(){}},m=p,v=(0,c.A)(m,o,s,!1,null,"3cae292b",null),w=v.exports},3086:function(t,i,a){t.exports=a.p+"img/favicon.b107f5c1.svg"}}]);
//# sourceMappingURL=323.2b1b2254.js.map