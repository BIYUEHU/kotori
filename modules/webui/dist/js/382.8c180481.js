"use strict";(self["webpackChunkkams"]=self["webpackChunkkams"]||[]).push([[382,787],{9787:function(t,e,n){n.r(e),n.d(e,{default:function(){return d}});var l=function(){var t=this,e=t._self._c;return e("el-card",{staticClass:"modules-item"},[t._t("title",(function(){return[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v(t._s(t.getCurrent.description))]),e("el-link",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"primary",target:"_blank",href:`https://kotori.js.org/modules/#${t.getCurrent.name}`,title:"官方文档"}},[t._v(" 文档 ")])],1)]})),e("div",{staticClass:"avatar list"},[e("img",{attrs:{src:`http://k.hotaru.icu/api/data/avatar/${t.getCurrent.name}`,title:t.getCurrent.name}})]),e("div",{staticClass:"title list"},[e("h3",[t._v(t._s(t.getCurrent.name))])]),e("div",{staticClass:"download list"},[e("pps-button",{attrs:{theme:"confirm"},nativeOn:{click:function(e){t.dialog=!0}}},[t._v("下载")])],1),e("div",{staticClass:"author list"},[e("h3",{staticClass:"mb10"},[t._v("开发信息")]),e("ul",[e("li",[e("strong",[t._v("类别 :")]),t._v("   "+t._s(t.category)+" ")]),e("li",[e("strong",[t._v("作者 :")]),t._v("   "),e("el-link",{attrs:{type:"primary",href:t.getCurrent.author.email}},[t._v(" "+t._s(t.getCurrent.author.name)+" ")])],1),e("li",[e("strong",[t._v("描述 :")]),t._v("   "+t._s(t.getCurrent.description)+" ")])])]),e("div",{staticClass:"version list"},[e("h3",{staticClass:"mb10"},[t._v("版本信息")]),e("ul",[e("li",[e("strong",[t._v("最新版本 : ")]),t._v(" v"+t._s(t.getCurrent.version)+" ")]),e("li",[e("strong",[t._v("创建日期 : ")]),e("span",{directives:[{name:"trans-time",rawName:"v-trans-time",value:t.getCurrent.time.created,expression:"getCurrent.time.created"}]})]),e("li",[e("strong",[t._v("更新日期 : ")]),e("span",{directives:[{name:"trans-time",rawName:"v-trans-time",value:t.getCurrent.time.modified,expression:"getCurrent.time.modified"}]})])])]),e("div",{staticClass:"file list"},[e("h3",{staticClass:"mb10"},[t._v("文件信息")]),e("ul",[e("li",[e("strong",[t._v("依赖数 : ")]),t._v(" "+t._s(t.getCurrent.dist.dependencies)+" ")]),e("li",[e("strong",[t._v("文件数 : ")]),t._v(" "+t._s(t.getCurrent.dist.fileCount)+" ")]),e("li",[e("strong",[t._v("大 小 : ")]),t._v(" "+t._s(t.unpackSize)+" ")])])]),e("pps-dialog",{attrs:{title:"提示",show:t.dialog},on:{"update:show":function(e){t.dialog=e}},scopedSlots:t._u([{key:"content",fn:function(){return[e("el-link",{staticClass:"downloadLink",attrs:{type:"primary",href:`${t.getCurrent.dist.tarball}`}},[t._v(" 直接下载 ")]),e("el-link",{staticClass:"downloadLink",attrs:{target:"_blank",type:"primary",href:`https://www.npmjs.com/package/${t.getCurrent.name}`}},[t._v(" npm下载 ")])]},proxy:!0}])})],2)},i=[],a=n(9335),s={name:"description",data(){return{detail:{},dialog:!1}},methods:{downloadFn(){console.log(this.getCurrent.dist.tarball)},transTime(t){const e=new Date(t),n=e.getFullYear(),l=e.getMonth()+1,i=e.getDate(),a=e.getHours()>=10?e.getHours():`0${e.getHours()}`,s=e.getMinutes()>=10?e.getMinutes():`0${e.getMinutes()}`,r=e.getSeconds()>=10?e.getSeconds():`0${e.getSeconds()}`;return`${n}-${l}-${i} ${a}:${s}:${r}`}},computed:{...(0,a.mapGetters)("modulesDetail",["getCurrent"]),category(){const t={official:"官方",plugin:"插件",adapter:"适配器",database:"数据库",service:"服务"},e=this.getCurrent.category.map((e=>t[e]));return e.join("、")},modifiedTime(){return this.transTime()},createdTime(){return this.transTime()},unpackSize(){const t=this.getCurrent.dist.unpackedSize;let e="";return t&&(e=t>1048576?`${(t/1024/1024).toFixed(2)}MB`:t>1024?`${(t/1024).toFixed(2)}KB`:`${t}B`),e}},created(){this.detail=this.$store.state.modulesDetail.current},mounted(){}},r=s,u=n(8529),o=(0,u.A)(r,l,i,!1,null,"1fab3b34",null),d=o.exports},2394:function(t,e,n){n.r(e),n.d(e,{default:function(){return _}});var l=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"resize-ob",rawName:"v-resize-ob",value:t.cardResize,expression:"cardResize"}],staticClass:"wrapper"},[e("div",{staticClass:"k-detail-list"},[e("div",{staticClass:"banner"}),e("div",{staticClass:"items"},t._l(t.currentDetails,(function(n,l){return e("k-detail-item",{key:l,staticClass:"k-detail-item",attrs:{avatar:`http://k.hotaru.icu/api/data/avatar/${n.name}`},on:{detail:function(e){return t.handleClick(l)}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(n?.name))]},proxy:!0},{key:"des",fn:function(){return[t._v(t._s(n?.description))]},proxy:!0},{key:"author",fn:function(){return[t._v("V"+t._s(n?.version)+" "+t._s(n?.author?.name))]},proxy:!0}],null,!0)})})),1),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.detailsLen,"page-size":t.itemNum,"pager-count":5,"current-page":t.pageIndex},on:{"update:currentPage":function(e){t.pageIndex=e},"update:current-page":function(e){t.pageIndex=e},"current-change":t.changeCurrentPage}})],1),e("pps-dialog",{attrs:{title:t.getCurrent.name,show:t.isShowDialog},on:{"update:show":function(e){t.isShowDialog=e}},scopedSlots:t._u([{key:"content",fn:function(){return[e("k-des",{scopedSlots:t._u([{key:"title",fn:function(){return[e("div")]},proxy:!0}])})]},proxy:!0}])})],1),e("div",{staticClass:"k-description"},[e("router-view")],1)])},i=[],a=(n(381),function(){var t=this,e=t._self._c;return e("div",{staticClass:"item-detail-wrapper"},[e("div",{staticClass:"item-detail-container"},[e("div",{staticClass:"item-detail"},[e("div",{staticClass:"body"},[e("div",{staticClass:"avatar"},[t._t("avatar",(function(){return[e("img",{attrs:{src:t.avatar}})]}))],2),e("div",{staticClass:"detail"},[e("div",{staticClass:"title"},[e("el-link",{attrs:{underline:!1}},[e("h3",[t._t("title",(function(){return[t._v("test")]}))],2)])],1),e("div",{staticClass:"des"},[t._t("des",(function(){return[t._v(" 使用kotori插件更轻量更易用！使用kotori插件更轻量更易用！使用kotori插件更轻量更易用！使用kotori插件更轻量更易用！使用kotori插件更轻量更易用！ ")]}))],2),e("div",{staticClass:"author"},[t._t("author",(function(){return[t._v("v1.2.0 biyuehu")]}))],2)])]),e("div",{staticClass:"action"},[t._t("action",(function(){return[e("pps-button",{attrs:{theme:"confirm"},on:{click:t.handleClick}},[t._v("详情")])]}))],2)])])])}),s=[],r=n.p+"img/logo.2302933b.png",u={name:"k-detail-item",data(){return{image:r}},props:{width:{type:String,default:"25%"},avatar:{type:String,default:""}},methods:{handleClick(){this.$emit("detail")}},computed:{}},o=u,d=n(8529),c=(0,d.A)(o,a,s,!1,null,"89a17930",null),m=c.exports,p=n(9787),g=n(9335),h=[{name:null,description:null,category:[null],version:null,author:{name:null,email:null},time:{created:null,modified:null},dist:{dependencies:null,fileCount:null,unpackedSize:null,tarball:null}},{name:null,description:null,category:[null],version:null,author:{name:null,email:null},time:{created:null,modified:null},dist:{dependencies:null,fileCount:null,unpackedSize:null,tarball:null}},{name:null,description:null,category:[null],version:null,author:{name:null,email:null},time:{created:null,modified:null},dist:{dependencies:null,fileCount:null,unpackedSize:null,tarball:null}},{name:null,description:null,category:[null],version:null,author:{name:null,email:null},time:{created:null,modified:null},dist:{dependencies:null,fileCount:null,unpackedSize:null,tarball:null}},{name:null,description:null,category:[null],version:null,author:{name:null,email:null},time:{created:null,modified:null},dist:{dependencies:null,fileCount:null,unpackedSize:null,tarball:null}},{name:null,description:null,category:[null],version:null,author:{name:null,email:null},time:{created:null,modified:null},dist:{dependencies:null,fileCount:null,unpackedSize:null,tarball:null}},{name:null,description:null,category:[null],version:null,author:{name:null,email:null},time:{created:null,modified:null},dist:{dependencies:null,fileCount:null,unpackedSize:null,tarball:null}},{name:null,description:null,category:[null],version:null,author:{name:null,email:null},time:{created:null,modified:null},dist:{dependencies:null,fileCount:null,unpackedSize:null,tarball:null}},{name:null,description:null,category:[null],version:null,author:{name:null,email:null},time:{created:null,modified:null},dist:{dependencies:null,fileCount:null,unpackedSize:null,tarball:null}}],v={name:"modulesCenter",components:{kDetailItem:m,kDes:p["default"]},data(){return{currentDetails:h,itemNum:16,detailsLen:0,pageSize:[],pageIndex:1,isNarrow:!1,isShowDialog:!1}},methods:{cardResize(t,e){const n=Math.floor(t);this.isNarrow=n<=425,this.itemNum=n<=1819&&n>820?9:n<=820&&n>632?6:n<=632&&n>425?3:16},sliceData(t,e){this.currentDetails=this.getData.slice(t,e),this.$store.commit("modulesDetail/updateCurrent",t)},calcPage(t){this.pageSize=[];const e=Math.ceil(t/this.itemNum);for(let l=1;l<=e;l++){const n=l*this.itemNum-this.itemNum,i=l*this.itemNum;l<e?this.pageSize.push({start:n,end:i}):this.pageSize.push({start:n,end:t})}try{this.sliceData(this.pageSize[0].start,this.pageSize[0].end)}catch(n){}this.pageIndex=1},handleClick(t){this.$store.commit("modulesDetail/updateCurrent",t+this.itemId),this.isNarrow&&(this.isShowDialog=!0)},changeCurrentPage(t){const e=t-1;this.sliceData(this.pageSize[e].start,this.pageSize[e].end)}},computed:{...(0,g.mapGetters)("modulesDetail",["getData","getCurrent"]),itemId(){return(this.pageIndex-1)*this.itemNum}},watch:{itemNum:{immediate:!1,handler(){this.calcPage(this.detailsLen)}}},created(){},mounted(){this.detailsLen=this.getData.length,this.calcPage(this.detailsLen),this.$router.push("/modulesCenter/modulesItem"),this.$message.error("作者名称跳转功能未完成，email处理方案待完善"),console.error("[modulesCenter] 作者名称跳转功能未完成，email处理方案待完善")}},f=v,C=(0,d.A)(f,l,i,!1,null,null,null),_=C.exports}}]);
//# sourceMappingURL=382.8c180481.js.map