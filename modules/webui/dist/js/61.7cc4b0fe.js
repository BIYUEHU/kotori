"use strict";(self["webpackChunkkams"]=self["webpackChunkkams"]||[]).push([[61],{3636:function(t,e,a){a.d(e,{DX:function(){return h},yz:function(){return p},Ar:function(){return d},yY:function(){return m},qI:function(){return u}});const s=t=>e=>Object.keys(e).map((a=>({name:t[a],value:e[a]})));var r=s;const n={message:"累计消息收:发量",bots:"实例在线数/总数",login:"登录成功:失败次数",memory:"内存使用量"},o={type:"系统类型",arch:"CPU架构",uptime:"开机时间",hostname:"主机名称",homedir:"用户目录",node:"node版本"},i={midwares:"中间件",commands:"指令",regexps:"正则",bots:"实例",adapters:"适配器",modules:"模块"},c={"全部":"all","私聊":0,"群聊":1,"频道":2},l={"成员":0,"管理员":1,"最高管理员":2},u=r(o),h=r(n),m=r(i),d=c,p=l},7061:function(t,e,a){a.r(e),a.d(e,{default:function(){return h}});var s=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"resize-ob",rawName:"v-resize-ob",value:t.resizeHandler,expression:"resizeHandler"}],staticClass:"root"},[e("el-card",[e("el-row",{attrs:{type:"flex",justify:"left"}},[e("el-col",{staticStyle:{"margin-left":"10px"}},[e("h1",{staticStyle:{"font-size":"25px"}},[t._v("欢迎使用 kotori！")]),e("p",{staticStyle:{"margin-top":"30px","font-size":"18px"}},[t._v("快速开始，使用 kotori 快速搭建你的机器人")])])],1),e("div",{staticStyle:{display:"flex"}},[e("div",{staticClass:"card-row"},t._l(t.cardRowData,(function(a,s){return e("div",{key:s,staticClass:"col-box"},[e("h1",{domProps:{textContent:t._s(a.title)}}),e("p",{domProps:{textContent:t._s(a.content)}})])})),0),e("div",{staticClass:"image"},[e("div",{staticClass:"image-bg"}),e("img",{attrs:{src:a(3086),alt:""}})])])],1),e("el-row",{staticClass:"club",attrs:{gutter:20}},t._l(t.infoData,(function(a,s){return e("el-col",{key:s,attrs:{span:Math.floor(24/t.infoData.length),xs:12}},[e("el-card",[e("h1",{domProps:{textContent:t._s(a.name)}}),e("p",{domProps:{textContent:t._s(a.value)}})])],1)})),1),e("el-row",{staticClass:"echarts-part",attrs:{gutter:20,type:"flex"}},[e("el-col",[e("el-card",[e("div",{staticClass:"gragh_pannel",attrs:{id:"column_show"}})])],1),e("el-col",[e("el-card",[e("div",{staticClass:"gragh_pannel",attrs:{id:"curve_show"}})])],1),e("el-col",[e("el-card",{staticClass:"table"},[e("table",{staticClass:"layui-table"},[e("colgroup",[e("col",{attrs:{width:"150"}}),e("col",{attrs:{width:"200"}}),e("col")]),e("tbody",t._l(t.systemData,(function(a,s){return e("tr",{key:s},[e("td",{domProps:{textContent:t._s(a.name)}}),e("td",{domProps:{textContent:t._s(a.value)}})])})),0)])])],1)],1)],1)},r=[],n=a(9610),o=a(3636),i={name:"dataCenter",data(){return{chatsNum:{sent:[],received:[]},infoData:[],systemData:[],test:[],countData:{},curveChart:null,columnChart:null,cardRowData:[{title:"跨平台",content:"得益于模块化支持，通过编写各种模块实现不同的功能与聊天平台接入"},{title:"解耦合",content:"基于控制反转与面向切面编程思想，减少代码冗余与复杂度"},{title:"现代化",content:"使用现代化的 ECMAScript 语法规范与强大的 TypeScript 类型支持"}],dataCenter:{node:null,pkg:{version:null}},botsList:[]}},methods:{setColumnChartFn(){this.columnChart&&this.columnChart.dispose();const t=document.getElementById("column_show");if(!t)return;this.columnChart=this.$echarts.init(t);const e=["#5470c6","#91cc75","#fac858","#ee6666","#3ba272","#fc8452","#9a60b4","#ea7ccc"],a=this.countData.map((t=>t.name)),s=this.countData.map(((t,a)=>({value:t.value,name:t.name,itemStyle:{color:e[a]}}))),r={title:{text:"数据统计"},xAxis:{axisLabel:{fontSize:10,interval:0},type:"category",data:a},yAxis:{type:"value"},series:[{data:s,type:"bar"}]};r&&this.columnChart.setOption(r)},setCurvetChartFn(){this.curveChart&&this.curveChart.dispose();const t=document.getElementById("curve_show");if(!t)return;this.curveChart=this.$echarts.init(t);const e=new Date,a=[];a[0]="今天";for(let r=1;r<7;r++)e.setDate(e.getDate()-1),a[r]=`${e.getMonth()+1}月${e.getDate()}日`;const s={title:{text:"七日内消息收发量",top:""},tooltip:{trigger:"axis"},legend:{data:["接收量","发送量"],top:"25"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:a},yAxis:{type:"value"},series:[{name:"接收量",type:"line",stack:"Total",data:this.chatsNum.received},{name:"发送量",type:"line",stack:"Total",data:this.chatsNum.sent}]};s&&this.curveChart.setOption(s)},resizeHandler(){this.curveChart&&this.columnChart&&setTimeout((()=>{this.curveChart.resize(),this.columnChart.resize()}),200)},async getStatsFn(){const{data:t}=await(0,n.IC)();this.chatsNum.sent=t.chats.sent,this.chatsNum.received=t.chats.received,this.infoData=(0,o.DX)(t.info),this.countData=(0,o.yY)(t.count),this.systemData=(0,o.qI)(this.processUptime(t.system))},processUptime(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&"uptime"===e){const a=Math.floor(t[e]/86400),s=Math.floor(t[e]/3600)%24,r=Math.floor(t[e]/60)%60;t[e]=`${a>1?a:0}天${s>1?s:0}小时${r>1?r:0}秒`}return t}},computed:{},async mounted(){await this.getStatsFn(),this.processUptime(),this.setColumnChartFn(),this.setCurvetChartFn()},beforeDestroy(){this.curveChart&&this.curveChart.dispose(),this.columnChart&&this.columnChart.dispose()}},c=i,l=a(8529),u=(0,l.A)(c,s,r,!1,null,"458ca0e3",null),h=u.exports},3086:function(t,e,a){t.exports=a.p+"img/favicon.b107f5c1.svg"}}]);
//# sourceMappingURL=61.7cc4b0fe.js.map