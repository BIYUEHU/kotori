{"version":3,"file":"js/805.635a82e6.js","mappings":"oJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,UAAU,CAACE,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOP,EAAIQ,QAASC,WAAW,WAAW,CAACJ,KAAK,YAAYC,QAAQ,cAAcC,MAAOP,EAAIU,WAAYD,WAAW,gBAAgB,CAACP,EAAG,WAAW,CAACE,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOP,EAAIW,UAAWF,WAAW,aAAa,CAACJ,KAAK,YAAYC,QAAQ,cAAcC,MAAOP,EAAIY,iBAAkBH,WAAW,qBAAqBI,MAAM,CAAC,IAAM,GAAG,OAAS,GAAG,KAAOb,EAAIc,KAAK,OAASd,EAAIe,cAAc,CAACb,EAAG,kBAAkB,CAACW,MAAM,CAAC,KAAO,OAAO,MAAQ,KAAK,MAAQ,SAAS,MAAQ,UAAWb,EAAIgB,cAAe,CAACd,EAAG,kBAAkB,CAACW,MAAM,CAAC,KAAO,cAAc,MAAQ,KAAK,MAAQ,aAAab,EAAIiB,KAAKf,EAAG,kBAAkB,CAACW,MAAM,CAAC,MAAQ,KAAK,MAAQ,UAAUK,YAAYlB,EAAImB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACtB,EAAIuB,GAAG,IAAIvB,EAAIwB,GAAGF,EAAMG,IAAIC,UAAU,OAAOxB,EAAG,kBAAkB,CAACW,MAAM,CAAC,KAAO,SAAS,MAAQ,KAAK,MAAQ,YAAYX,EAAG,kBAAkB,CAACW,MAAM,CAAC,MAAQ,KAAK,MAAQ,UAAUK,YAAYlB,EAAImB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACpB,EAAG,aAAa,CAACW,MAAM,CAAC,MAAQ,QAAQc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI6B,kBAAkBP,EAAMG,IAAI,IAAI,CAACzB,EAAIuB,GAAG,QAAQrB,EAAG,aAAa,CAACW,MAAM,CAAC,MAAQ,QAAQc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI8B,WAAWR,EAAMG,IAAI,IAAI,CAACzB,EAAIuB,GAAG,QAAQ,QAAQ,GAAGrB,EAAG,aAAa,CAACW,MAAM,CAAC,KAAOb,EAAI+B,qBAAqBJ,GAAG,CAAC,cAAc,SAASC,GAAQ5B,EAAI+B,oBAAoBH,CAAM,IAAI,CAAC1B,EAAG,WAAW,CAAC8B,KAAK,SAAS,CAAC9B,EAAG,OAAO,CAACF,EAAIuB,GAAGvB,EAAIwB,GAAGxB,EAAIiC,gBAAgB5B,SAAU6B,OAAOC,OAAOnC,EAAIiC,gBAAiB,gBAAiB/B,EAAG,YAAY,CAACW,MAAM,CAAC,YAAc,OAAO,kBAAiB,GAAOuB,MAAM,CAAC7B,MAAOP,EAAIqC,WAAYC,SAAS,SAAUC,GAAMvC,EAAIqC,WAAWE,CAAG,EAAE9B,WAAW,eAAeT,EAAIwC,GAAIxC,EAAIyC,QAAQzC,EAAIiC,gBAAgBS,eAAe,SAASC,EAAKC,GAAO,OAAO1C,EAAG,YAAY,CAACkB,IAAIwB,EAAM/B,MAAM,CAAC,MAAQ8B,EAAKpC,MAAM,MAAQoC,EAAKpC,QAAQ,IAAG,GAAGP,EAAIiB,MAAM,GAAGf,EAAG,WAAW,CAAC8B,KAAK,WAAW,CAAC9B,EAAG,kBAAkB,CAACW,MAAM,CAAC,UAAY,WAAW,OAAS,EAAE,OAAS,KAAK,CAACX,EAAG,uBAAuB,CAACW,MAAM,CAAC,MAAQ,MAAM,eAAiB,WAAW,iBAAmB,aAAa,CAACb,EAAIuB,GAAG,IAAIvB,EAAIwB,GAAGxB,EAAIiC,gBAAgBY,SAAS,OAAO3C,EAAG,uBAAuB,CAACW,MAAM,CAAC,MAAQ,KAAK,eAAiB,WAAW,iBAAmB,aAAa,CAACb,EAAIuB,GAAG,IAAIvB,EAAIwB,GAAGxB,EAAI8C,QAAQ9C,EAAIiC,gBAAgBc,QAAQ,OAAO7C,EAAG,uBAAuB,CAACW,MAAM,CAAC,MAAQ,KAAK,eAAiB,WAAW,iBAAmB,aAAa,CAACb,EAAIuB,GAAG,IAAIvB,EAAIwB,GAAGxB,EAAI8C,QAAQ9C,EAAIiC,gBAAgBe,OAAOC,KAAKC,WAAW,OAAOhD,EAAG,uBAAuB,CAACW,MAAM,CAAC,MAAQ,KAAK,eAAiB,WAAW,iBAAmB,aAAab,EAAIwC,GAAIxC,EAAIiC,gBAAgBkB,UAAU,SAASR,EAAKC,GAAO,OAAO1C,EAAG,SAAS,CAACkB,IAAIwB,EAAM/B,MAAM,CAAC,KAAO,QAAQ,KAAOb,EAAIoD,SAASR,GAAO,OAAS,SAAS,CAAC5C,EAAIuB,GAAG,IAAIvB,EAAIwB,GAAGmB,GAAM,MAAM,IAAG,GAAGzC,EAAG,uBAAuB,CAACW,MAAM,CAAC,KAAO,EAAE,MAAQ,KAAK,eAAiB,WAAW,iBAAmB,aAAa,CAACb,EAAIuB,GAAG,IAAIvB,EAAIwB,GAAGxB,EAAIiC,gBAAgBoB,aAAa,OAAOnD,EAAG,uBAAuB,CAACW,MAAM,CAAC,WAAa,CAAEyC,QAAS,QAAS,KAAO,IAAI,CAACpD,EAAG,WAAW,CAACqD,YAAY,CAAC,MAAQ,QAAQ1C,MAAM,CAAC,KAAOb,EAAIiC,gBAAgBuB,qBAAqB,CAACtD,EAAG,kBAAkB,CAACW,MAAM,CAAC,MAAQ,SAAS,KAAO,MAAM,MAAQ,QAAQX,EAAG,kBAAkB,CAACW,MAAM,CAAC,MAAQ,SAAS,KAAO,QAAQ,MAAQ,SAAS,IAAI,IAAI,IAAI,IAAI,GAAGX,EAAG,aAAa,CAACW,MAAM,CAAC,KAAOb,EAAIyD,iBAAiB,MAAQzD,EAAI0D,eAAeC,IAAIhC,GAAG,CAAC,UAAY3B,EAAI4D,eAAe,SAAW,SAAShC,GAAS,EAAE,cAAc,SAASA,GAAQ5B,EAAIyD,iBAAiB7B,CAAM,IAAI,CAAC1B,EAAG,WAAW,CAAC8B,KAAK,WAAW,CAAC9B,EAAG,WAAW,CAACW,MAAM,CAAC,YAAYb,EAAI6D,SAAS,OAAS7D,EAAI0D,eAAeI,QAAQ1B,MAAM,CAAC7B,MAAOP,EAAI0D,eAAeK,OAAQzB,SAAS,SAAUC,GAAMvC,EAAIgE,KAAKhE,EAAI0D,eAAgB,SAAUnB,EAAI,EAAE9B,WAAW,0BAA0B,CAACP,EAAG,WAAW,CAAC8B,KAAK,WAAW,CAAC9B,EAAG,WAAW,IAAI,IAAI,IAAI,EACz4H,EACI+D,EAAkB,G,UC0GtB,GACA5D,KAAA,cACA6D,IAAAA,GACA,OACApD,KAAA,GACAN,SAAA,EACAQ,eAAA,EACAe,qBAAA,EACA0B,kBAAA,EACA9C,WAAA,EACAI,YAAA,EACAoD,aAAA,GACA9B,WAAA,GACAJ,gBAAA,CACA5B,KAAA,GACAqB,QAAA,GACA2B,YAAA,GACAe,WAAA,EACAC,KAAA,eACAlB,SAAA,GACAN,QAAA,GACAE,MAAA,GACAuB,OAAA,GACA5B,aAAA,GACA6B,iBAAA,CACA,iBAEAvB,OAAA,CACAC,KAAA,CACAC,SAAA,KAGAM,mBAAA,CACA,CACAd,aAAA,GACAhB,QAAA,IAEA,CACAgB,aAAA,GACAhB,QAAA,MAIAgC,eAAA,CACAC,GAAA,GACAI,OAAA,GACAD,OAAA,IAEAD,SAAA,CACAW,IAAA,CACA,cACAC,YAAA,UACAC,KAAA,WACAC,KAAA,KAIAvB,SAAA,yCAEA,EACAhD,WAAA,GACAwE,QAAA,CACA/C,iBAAAA,CAAAJ,GACA,KAAAd,WAAA,EACA,KAAAsB,gBAAA,SAAA4C,mBAAApD,GACAA,EAAA8C,mBACA,KAAAtC,gBAAAuB,mBAAA,KAAAf,QAAAhB,EAAA8C,mBAEA,KAAAxC,qBAAA,EACA,KAAApB,WAAA,CACA,EACAmB,UAAAA,CAAAL,GACA,KAAAd,WAAA,GACAmE,EAAAA,EAAAA,IAAArD,EAAApB,MAAA0E,MAAA,EAAAb,KAAAc,MAEA,GADA,KAAArE,WAAA,GACAqE,EAAAjB,OACA,YAAAkB,SAAA,CACAC,QAAA,aACAR,KAAA,YAGA,KAAAhB,eAAAK,OAAAiB,EAAAjB,OACA,KAAAL,eAAAI,OAAAkB,EAAAlB,OACA,KAAAJ,eAAAC,GAAAlC,EAAApB,KACA,KAAAoD,kBAAA,IAEA,EACAG,cAAAA,GACA,MAAAuB,EAAA,KAAAzB,eAAAK,QACAqB,EAAAA,EAAAA,IAAA,KAAA1B,eAAAC,GAAAwB,GACAJ,MAAAC,GACA,MAAAA,EAAAK,OACA,KAAAJ,SAAA,CACAC,QAAA,QACAR,KAAA,YAGA,KAAAO,SAAA,CACAC,QAAA,QACAR,KAAA,YAGAK,MAAA,KACA,KAAArB,eAAAK,OAAA,GACA,KAAAL,eAAAI,OAAA,KAEA,EACAlD,gBAAAA,CAAA0E,EAAAC,GAEA,KAAAvE,gBADAsE,EAAA,IAKA,EACA5E,UAAAA,CAAA6E,EAAAC,GACA,KAAAzE,YAAA0E,KAAAC,MAAAF,GAAA,EACA,EACA/C,OAAAA,CAAAkD,GACA,OAAAzD,OAAA0D,KAAAD,GAAAE,KAAAzE,IAAA,CAAAA,MAAAb,MAAAoF,EAAAvE,MACA,EACA0B,OAAAA,CAAAgD,GACA,OAAAA,EAAAC,KAAA,IACA,GAEAC,SAAA,GACA,aAAAC,GACA,MAAA/B,KAAAc,SAAAkB,EAAAA,EAAAA,MACA,KAAApF,KAAAkE,EACA,KAAAxE,SAAA,CACA,GC7O8f,I,UCQ1f2F,GAAY,OACd,EACApG,EACAkE,GACA,EACA,KACA,WACA,MAIF,EAAekC,EAAiB,O","sources":["webpack://kams/./src/views/modules/index.vue","webpack://kams/src/views/modules/index.vue","webpack://kams/./src/views/modules/index.vue?6e0e","webpack://kams/./src/views/modules/index.vue?9b11"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-card',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isEmpty),expression:\"isEmpty\"},{name:\"resize-ob\",rawName:\"v-resize-ob\",value:(_vm.cardResize),expression:\"cardResize\"}]},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"},{name:\"resize-ob\",rawName:\"v-resize-ob\",value:(_vm.handleSizeChange),expression:\"handleSizeChange\"}],attrs:{\"fit\":\"\",\"stripe\":\"\",\"data\":_vm.bots,\"height\":_vm.tableHeight}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"包名\",\"align\":\"center\",\"fixed\":\"left\"}}),(_vm.isChangeTable)?[_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"描述\",\"align\":\"center\"}})]:_vm._e(),_c('el-table-column',{attrs:{\"label\":\"版本\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"v\"+_vm._s(scope.row.version))]}}])}),_c('el-table-column',{attrs:{\"prop\":\"author\",\"label\":\"作者\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('pps-button',{attrs:{\"theme\":\"text\"},on:{\"click\":function($event){return _vm.handleViewDetails(scope.row)}}},[_vm._v(\"详情\")]),_c('pps-button',{attrs:{\"theme\":\"text\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")])]}}])})],2),_c('pps-dialog',{attrs:{\"show\":_vm.isShowDetailsDialog},on:{\"update:show\":function($event){_vm.isShowDetailsDialog=$event}}},[_c('template',{slot:\"title\"},[_c('span',[_vm._v(_vm._s(_vm.viewDetailsData.name))]),(Object.hasOwn(_vm.viewDetailsData, 'dependencies'))?_c('el-select',{attrs:{\"placeholder\":\"版本列表\",\"append-to-body\":false},model:{value:(_vm.formInline),callback:function ($$v) {_vm.formInline=$$v},expression:\"formInline\"}},_vm._l((_vm.obj2Arr(_vm.viewDetailsData.dependencies)),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.value,\"value\":item.value}})}),1):_vm._e()],1),_c('template',{slot:\"content\"},[_c('el-descriptions',{attrs:{\"direction\":\"vertical\",\"column\":2,\"border\":\"\"}},[_c('el-descriptions-item',{attrs:{\"label\":\"许可证\",\"labelClassName\":\"my-label\",\"contentClassName\":\"my-label\"}},[_vm._v(\" \"+_vm._s(_vm.viewDetailsData.license)+\" \")]),_c('el-descriptions-item',{attrs:{\"label\":\"文件\",\"labelClassName\":\"my-label\",\"contentClassName\":\"my-label\"}},[_vm._v(\" \"+_vm._s(_vm.joinArr(_vm.viewDetailsData.files))+\" \")]),_c('el-descriptions-item',{attrs:{\"label\":\"语言\",\"labelClassName\":\"my-label\",\"contentClassName\":\"my-label\"}},[_vm._v(\" \"+_vm._s(_vm.joinArr(_vm.viewDetailsData.kotori.meta.language))+\" \")]),_c('el-descriptions-item',{attrs:{\"label\":\"标签\",\"labelClassName\":\"my-label\",\"contentClassName\":\"my-label\"}},_vm._l((_vm.viewDetailsData.keywords),function(item,index){return _c('el-tag',{key:index,attrs:{\"size\":\"small\",\"type\":_vm.tagsType[index],\"effect\":\"dark\"}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),1),_c('el-descriptions-item',{attrs:{\"span\":2,\"label\":\"描述\",\"labelClassName\":\"my-label\",\"contentClassName\":\"my-label\"}},[_vm._v(\" \"+_vm._s(_vm.viewDetailsData.description)+\" \")]),_c('el-descriptions-item',{attrs:{\"labelStyle\":{ display: 'none' },\"span\":2}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.viewDetailsData.pluginDependencies}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"key\",\"label\":\"依赖\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"value\",\"label\":\"版本\"}})],1)],1)],1)],1)],2),_c('pps-dialog',{attrs:{\"show\":_vm.isShowEditDialog,\"title\":_vm.editDialogData.id},on:{\"confirmed\":_vm.updateConfigFn,\"canceled\":function($event){1},\"update:show\":function($event){_vm.isShowEditDialog=$event}}},[_c('template',{slot:\"content\"},[_c('vue-form',{attrs:{\"ui-schema\":_vm.uiSchema,\"schema\":_vm.editDialogData.schema},model:{value:(_vm.editDialogData.origin),callback:function ($$v) {_vm.$set(_vm.editDialogData, \"origin\", $$v)},expression:\"editDialogData.origin\"}},[_c('template',{slot:\"default\"},[_c('span')])],2)],1)],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-card v-loading=\"isEmpty\" v-resize-ob=\"cardResize\">\r\n    <el-table\r\n      fit\r\n      stripe\r\n      :data=\"bots\"\r\n      v-loading=\"isLoading\"\r\n      :height=\"tableHeight\"\r\n      v-resize-ob=\"handleSizeChange\"\r\n    >\r\n      <el-table-column prop=\"name\" label=\"包名\" align=\"center\" fixed=\"left\"></el-table-column>\r\n      <template v-if=\"isChangeTable\">\r\n        <el-table-column prop=\"description\" label=\"描述\" align=\"center\"></el-table-column>\r\n      </template>\r\n      <el-table-column label=\"版本\" align=\"center\">\r\n        <template slot-scope=\"scope\">v{{ scope.row.version }}</template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"author\" label=\"作者\" align=\"center\"></el-table-column>\r\n      <el-table-column label=\"操作\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <pps-button theme=\"text\" @click=\"handleViewDetails(scope.row)\">详情</pps-button>\r\n          <pps-button theme=\"text\" @click=\"handleEdit(scope.row)\">编辑</pps-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 弹窗部分 -->\r\n    <pps-dialog :show.sync=\"isShowDetailsDialog\">\r\n      <template slot=\"title\">\r\n        <span>{{ viewDetailsData.name }}</span>\r\n        <el-select\r\n          v-if=\"Object.hasOwn(viewDetailsData, 'dependencies')\"\r\n          v-model=\"formInline\"\r\n          placeholder=\"版本列表\"\r\n          :append-to-body=\"false\"\r\n        >\r\n          <el-option\r\n            v-for=\"(item, index) in obj2Arr(viewDetailsData.dependencies)\"\r\n            :label=\"item.value\"\r\n            :value=\"item.value\"\r\n            :key=\"index\"\r\n          ></el-option>\r\n        </el-select>\r\n      </template>\r\n      <template slot=\"content\">\r\n        <el-descriptions direction=\"vertical\" :column=\"2\" border>\r\n          <el-descriptions-item\r\n            label=\"许可证\"\r\n            labelClassName=\"my-label\"\r\n            contentClassName=\"my-label\"\r\n          >\r\n            {{ viewDetailsData.license }}\r\n          </el-descriptions-item>\r\n          <el-descriptions-item label=\"文件\" labelClassName=\"my-label\" contentClassName=\"my-label\">\r\n            {{ joinArr(viewDetailsData.files) }}\r\n          </el-descriptions-item>\r\n          <el-descriptions-item label=\"语言\" labelClassName=\"my-label\" contentClassName=\"my-label\">\r\n            {{ joinArr(viewDetailsData.kotori.meta.language) }}\r\n          </el-descriptions-item>\r\n          <el-descriptions-item label=\"标签\" labelClassName=\"my-label\" contentClassName=\"my-label\">\r\n            <el-tag\r\n              size=\"small\"\r\n              v-for=\"(item, index) in viewDetailsData.keywords\"\r\n              :key=\"index\"\r\n              :type=\"tagsType[index]\"\r\n              effect=\"dark\"\r\n            >\r\n              {{ item }}\r\n            </el-tag>\r\n          </el-descriptions-item>\r\n          <el-descriptions-item\r\n            :span=\"2\"\r\n            label=\"描述\"\r\n            labelClassName=\"my-label\"\r\n            contentClassName=\"my-label\"\r\n          >\r\n            {{ viewDetailsData.description }}\r\n          </el-descriptions-item>\r\n          <el-descriptions-item :labelStyle=\"{ display: 'none' }\" :span=\"2\">\r\n            <el-table :data=\"viewDetailsData.pluginDependencies\" style=\"width: 100%\">\r\n              <el-table-column align=\"center\" prop=\"key\" label=\"依赖\"></el-table-column>\r\n              <el-table-column align=\"center\" prop=\"value\" label=\"版本\"></el-table-column>\r\n            </el-table>\r\n          </el-descriptions-item>\r\n        </el-descriptions>\r\n      </template>\r\n    </pps-dialog>\r\n    <pps-dialog\r\n      @confirmed=\"updateConfigFn\"\r\n      @canceled=\"1\"\r\n      :show.sync=\"isShowEditDialog\"\r\n      :title=\"editDialogData.id\"\r\n    >\r\n      <template slot=\"content\">\r\n        <vue-form\r\n          v-model=\"editDialogData.origin\"\r\n          :ui-schema=\"uiSchema\"\r\n          :schema=\"editDialogData.schema\"\r\n        >\r\n          <template slot=\"\"><span></span></template>\r\n        </vue-form>\r\n      </template>\r\n    </pps-dialog>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport { getUserModulesAPI, getPluginsConfigAPI, updatePluginsConfigAPI } from '@/api/index';\r\nexport default {\r\n  name: 'modulesPage',\r\n  data() {\r\n    return {\r\n      bots: [],\r\n      isEmpty: true,\r\n      isChangeTable: false,\r\n      isShowDetailsDialog: false,\r\n      isShowEditDialog: false,\r\n      isLoading: false,\r\n      tableHeight: 0,\r\n      pluginDetail: {},\r\n      formInline: '',\r\n      viewDetailsData: {\r\n        name: '',\r\n        version: '',\r\n        description: '',\r\n        hasConfig: true,\r\n        main: 'lib/index.js',\r\n        keywords: [],\r\n        license: '',\r\n        files: [],\r\n        author: '',\r\n        dependencies: {},\r\n        peerDependencies: {\r\n          'kotori-bot': ''\r\n        },\r\n        kotori: {\r\n          meta: {\r\n            language: []\r\n          }\r\n        },\r\n        pluginDependencies: [\r\n          {\r\n            dependencies: '',\r\n            version: ''\r\n          },\r\n          {\r\n            dependencies: '',\r\n            version: ''\r\n          }\r\n        ]\r\n      },\r\n      editDialogData: {\r\n        id: '',\r\n        origin: {},\r\n        schema: {}\r\n      },\r\n      uiSchema: {\r\n        bio: {\r\n          'ui:options': {\r\n            placeholder: '请输入你的签名',\r\n            type: 'textarea',\r\n            rows: 1\r\n          }\r\n        }\r\n      },\r\n      tagsType: ['', 'success', 'info', 'danger', 'warning']\r\n    };\r\n  },\r\n  directives: {},\r\n  methods: {\r\n    handleViewDetails(row) {\r\n      this.isLoading = true;\r\n      this.viewDetailsData = { ...this.wiewDetailsData, ...row };\r\n      if (row.peerDependencies) {\r\n        this.viewDetailsData.pluginDependencies = this.obj2Arr(row.peerDependencies);\r\n      }\r\n      this.isShowDetailsDialog = true;\r\n      this.isLoading = false;\r\n    },\r\n    handleEdit(row) {\r\n      this.isLoading = true;\r\n      getPluginsConfigAPI(row.name).then(({ data: res }) => {\r\n        this.isLoading = false;\r\n        if (!res.origin) {\r\n          return this.$message({\r\n            message: '此插件没有配置文件！',\r\n            type: 'warning'\r\n          });\r\n        }\r\n        this.editDialogData.origin = res.origin;\r\n        this.editDialogData.schema = res.schema;\r\n        this.editDialogData.id = row.name;\r\n        this.isShowEditDialog = true;\r\n      });\r\n    },\r\n    updateConfigFn() {\r\n      const config = this.editDialogData.origin;\r\n      updatePluginsConfigAPI(this.editDialogData.id, config)\r\n        .then((res) => {\r\n          if (res.status === 204) {\r\n            return this.$message({\r\n              message: '更新成功！',\r\n              type: 'success'\r\n            });\r\n          }\r\n          return this.$message({\r\n            message: '更新失败！',\r\n            type: 'error'\r\n          });\r\n        })\r\n        .then(() => {\r\n          this.editDialogData.origin = {};\r\n          this.editDialogData.schema = {};\r\n        });\r\n    },\r\n    handleSizeChange(width, _) {\r\n      if (width < 450) {\r\n        this.isChangeTable = false;\r\n        return;\r\n      }\r\n      this.isChangeTable = true;\r\n    },\r\n    cardResize(_, h) {\r\n      this.tableHeight = Math.floor(h) - 40;\r\n    },\r\n    obj2Arr(obj) {\r\n      return Object.keys(obj).map((key) => ({ key, value: obj[key] }));\r\n    },\r\n    joinArr(arr) {\r\n      return arr.join('、');\r\n    }\r\n  },\r\n  computed: {},\r\n  async mounted() {\r\n    const { data: res } = await getUserModulesAPI();\r\n    this.bots = res;\r\n    this.isEmpty = false\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.el-card {\r\n  margin-top: 10px;\r\n  height: var(--el-card-height);\r\n}\r\n.el-table {\r\n  font-size: 14px;\r\n}\r\n.my-label {\r\n  text-align: center !important;\r\n}\r\n.el-tag + .el-tag {\r\n  margin-left: 10px;\r\n}\r\n::v-deep .el-table__body-wrapper {\r\n  &::-webkit-scrollbar {\r\n    width: 5px; // 设置滚动条的宽度\r\n    height: 5px;\r\n  }\r\n  &::-webkit-scrollbar-track {\r\n    background: transparent;\r\n    width: 5px;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    position: absolute;\r\n    right: -5px;\r\n    width: 5px;\r\n    background: #88888870;\r\n    border-radius: 6px;\r\n  }\r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background: #888888; // 鼠标悬停时滚动条的颜色\r\n  }\r\n}\r\n&::v-deep .pps-dialog-content {\r\n  max-width: 500px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.93.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.24.9_webpack@5.93.0/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.4.33_css-loader@6.11.0_webpack@5.93.0__lodash@4.17.21__uyhl4iwm4ewirsvqhveifa5sk4/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.93.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.24.9_webpack@5.93.0/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.4.33_css-loader@6.11.0_webpack@5.93.0__lodash@4.17.21__uyhl4iwm4ewirsvqhveifa5sk4/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5a571edf&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5a571edf&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.4.33_css-loader@6.11.0_webpack@5.93.0__lodash@4.17.21__uyhl4iwm4ewirsvqhveifa5sk4/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a571edf\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","isEmpty","expression","cardResize","isLoading","handleSizeChange","attrs","bots","tableHeight","isChangeTable","_e","scopedSlots","_u","key","fn","scope","_v","_s","row","version","on","$event","handleViewDetails","handleEdit","isShowDetailsDialog","slot","viewDetailsData","Object","hasOwn","model","formInline","callback","$$v","_l","obj2Arr","dependencies","item","index","license","joinArr","files","kotori","meta","language","keywords","tagsType","description","display","staticStyle","pluginDependencies","isShowEditDialog","editDialogData","id","updateConfigFn","uiSchema","schema","origin","$set","staticRenderFns","data","pluginDetail","hasConfig","main","author","peerDependencies","bio","placeholder","type","rows","methods","wiewDetailsData","getPluginsConfigAPI","then","res","$message","message","config","updatePluginsConfigAPI","status","width","_","h","Math","floor","obj","keys","map","arr","join","computed","mounted","getUserModulesAPI","component"],"sourceRoot":""}